<div class="container">

  <div class="row">
    <div class="col-lg-8">
      <div *ngIf="clinic$ | async; let clinic" class="border rounded-lg bg-light p-3 my-4">
        <img src="https://via.placeholder.com/1900x550" class="img-fluid rounded mb-3">
        <h4 class="mx-3">{{clinic.name}}</h4>
        <h6 class="mx-3 text-muted">{{clinic.postalCode}} {{clinic.city}},
          ul.{{clinic.street}} {{clinic.houseNr}} {{clinic.flatNr}}</h6>

        <!-- Filter input -->
        <div class="d-flex justify-content-center m-3">
          <form class="form-inline">
            <div class="input-group">
              <div class="input-group-prepend">
              <span class="input-group-text">
                <fa-icon [icon]="faSearch"></fa-icon>
              </span>
              </div>
              <input type="text" class="form-control">
            </div>
          </form>
        </div>

        <!-- Doctors section -->
        <ng-container *ngFor="let doctor of doctors$ | async">
          <div class="card my-3 p-4 border shadow bg-light">
            <div class="row">
              <div class="col-9">
                <h5>{{doctor.firstName}} {{doctor.lastName}}</h5>
                <span class="d-block text-muted">{{doctor.speciality}}</span>
              </div>
              <div class="col-3 text-center m-auto">
                <button class="btn btn-secondary" (click)="openModal(doctor, clinic.id)">Zarezerwuj</button>
              </div>
            </div>
          </div>
        </ng-container>

      </div>
    </div>

    <div class="col-lg-4">
      <div *ngIf="clinic$ | async; let clinic" class="border rounded-lg bg-light p-3 my-4 text-center">
        <img
          src="https://complianz.io/wp-content/plugins/complianz-gdpr-premium/assets/images/placeholder-google-maps.jpg"
          class="img-fluid mb-3">
        <h6>Numer kontaktowy</h6>
        <span><fa-icon [icon]="faPhoneAlt" class="mr-1"></fa-icon>
          {{clinic.phoneNumber}}<br></span>
        <hr>
        <h6>Godziny otwarcia</h6>
        <table class="table table-sm" *ngIf="openingHours$ | async; let openingHours">
          <tr>
            <td>Poniedziałek</td>
            <td *ngIf="openingHours.moBegin != null && openingHours.moEnd != null; else closed">
              {{openingHours.moBegin | slice:0:5}} - {{openingHours.moEnd | slice:0:5}}
            </td>
          </tr>
          <tr>
            <td>Wtorek</td>
            <td *ngIf="openingHours.tuBegin != null && openingHours.tuEnd != null; else closed">
              {{openingHours.tuBegin | slice:0:5}} - {{openingHours.tuEnd | slice:0:5}}
            </td>
          </tr>
          <tr>
            <td>Środa</td>
            <td *ngIf="openingHours.weBegin != null && openingHours.weEnd != null; else closed">
              {{openingHours.weBegin | slice:0:5}} - {{openingHours.weEnd | slice:0:5}}
            </td>
          </tr>
          <tr>
            <td>Czwartek</td>
            <td *ngIf="openingHours.thBegin != null && openingHours.thEnd != null; else closed">
              {{openingHours.thBegin | slice:0:5}} - {{openingHours.thEnd | slice:0:5}}
            </td>
          </tr>
          <tr>
            <td>Piątek</td>
            <td *ngIf="openingHours.frBegin != null && openingHours.frEnd != null; else closed">
              {{openingHours.frBegin | slice:0:5}} - {{openingHours.frEnd | slice:0:5}}
            </td>
          </tr>
          <tr>
            <td>Sobota</td>
            <td *ngIf="openingHours.saBegin != null && openingHours.saEnd != null; else closed">
              {{openingHours.saBegin | slice:0:5}} - {{openingHours.saEnd | slice:0:5}}
            </td>
          </tr>
          <tr>
            <td>Niedziela</td>
            <td *ngIf="openingHours.suBegin != null && openingHours.suEnd != null; else closed">
              {{openingHours.suBegin | slice:0:5}} - {{openingHours.suEnd | slice:0:5}}
            </td>
          </tr>
        </table>
      </div>
    </div>

    <ng-template #closed>
      <td>Zamknięte</td>
    </ng-template>

  </div>
</div>

